<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
        }
    </style>

    
    
    
    
    
    

    
    <title>KotlinåŸºç¡€ï¼šç±»å‹ç³»ç»Ÿã€è¯­è¨€ç‰¹æ€§</title>
    <meta name="description" content="keep curious ğŸ˜¼">
    <meta name="keywords" content='blog, chinalhr, lhr, kotlin'>

    <meta property="og:url" content="https://chinalhr.github.io/post/kotlin-learn02/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="KotlinåŸºç¡€ï¼šç±»å‹ç³»ç»Ÿã€è¯­è¨€ç‰¹æ€§">
    <meta property="og:description" content="keep curious ğŸ˜¼">
    <meta property="og:image" content="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="KotlinåŸºç¡€ï¼šç±»å‹ç³»ç»Ÿã€è¯­è¨€ç‰¹æ€§">
    <meta name="twitter:description" content="keep curious ğŸ˜¼">
    <meta property="twitter:domain" content="https://chinalhr.github.io/post/kotlin-learn02/">
    <meta property="twitter:url" content="https://chinalhr.github.io/post/kotlin-learn02/">
    <meta name="twitter:image" content="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg">

    
    <link rel="canonical" href="https://chinalhr.github.io/post/kotlin-learn02/" />

    <link rel="stylesheet" type="text/css" href="https://chinalhr.github.io//css/normalize.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" type="text/css" href="https://chinalhr.github.io//css/main.css">
    <link disabled id="dark-theme" rel="stylesheet" href="https://chinalhr.github.io//css/dark.css">

    <script src="https://chinalhr.github.io//js/svg-injector.min.js"></script>
    <script src="https://chinalhr.github.io//js/feather-icons.min.js"></script>
    <script src="https://chinalhr.github.io//js/main.js"></script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JLJBQBW5WM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JLJBQBW5WM');
</script>
  
    
    
    

    
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css">
</head>
<body>
        <script type="text/javascript">
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="https://chinalhr.github.io/">
                <img src="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg" alt="avatar" />
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="https://chinalhr.github.io/">LHR</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/" aria-label="Jump to a specific link"><span data-feather='home'></span> Home </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/post/" aria-label="Jump to a specific link"><span data-feather='book'></span> Posts </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/tags/" aria-label="Jump to a specific link"><span data-feather='tag'></span> Tags </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/projects/" aria-label="Jump to a specific link"><span data-feather='code'></span> Projects </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/about/" aria-label="Jump to a specific link"><span data-feather='user'></span> About </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/chinalhr" aria-label="Jump to a specific link"><span data-feather='github'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/index.xml" aria-label="Jump to a specific link"><span data-feather='rss'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <span id="dark-theme-toggle-screen-reader-target" class="sr-only"></span>
                <a>
                    <span id="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <span id="hamburger-menu-toggle-screen-reader-target" class="sr-only">menu</span>
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/" aria-label="Jump to a specific link"><span data-feather='home'></span> Home </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/post/" aria-label="Jump to a specific link"><span data-feather='book'></span> Posts </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/tags/" aria-label="Jump to a specific link"><span data-feather='tag'></span> Tags </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/projects/" aria-label="Jump to a specific link"><span data-feather='code'></span> Projects </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/about/" aria-label="Jump to a specific link"><span data-feather='user'></span> About </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/chinalhr" aria-label="Jump to a specific link"><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/index.xml" aria-label="Jump to a specific link"><span data-feather='rss'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <span id="dark-theme-toggle-screen-reader-target" class="sr-only">theme</span>
                    <a>
                        <span id="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    <div class="post container">
    <div class="post-header-section">
        <h1>KotlinåŸºç¡€ï¼šç±»å‹ç³»ç»Ÿã€è¯­è¨€ç‰¹æ€§</h1>
        <small role="doc-subtitle"></small>
        <p class="post-date">
            February 27, 2019
        </p>

        <ul class="post-tags">
        
            <li class="post-tag"><a href="https://chinalhr.github.io/tags/kotlin">kotlin</a></li>
        
        </ul>
    </div>

    <div class="post-content">
        <p>
            <blockquote>
<p>Kotlinå­¦ä¹ è®°å½•</p>
</blockquote>
<h3 id="å¯nullæ€§">å¯Nullæ€§</h3>
<p><strong>javaç±»å‹ç³»ç»Ÿç¼ºé™·</strong>ï¼š</p>
<p>ä¾‹å¦‚Stringç±»å‹çš„å˜é‡å¯ä»¥æŒæœ‰ä¸¤ç§å€¼ï¼Œåˆ†åˆ«æ˜¯Stringçš„å®ä¾‹å’Œ nullï¼Œä½†ä¸¤ç§å€¼å®Œå…¨ä¸ä¸€æ ·(instanceof è¿ç®—ç¬¦nullä¸æ˜¯String)ã€‚ç±»å‹ç³»ç»Ÿçš„ç¼ºé™·å¯¼è‡´å³ä½¿å˜é‡æ‹¥æœ‰å£°æ˜çš„ç±»å‹ Stringä½ ä¾ç„¶æ— æ³•çŸ¥é“èƒ½å¯¹è¯¥å˜é‡çš„å€¼åšäº›ä»€ä¹ˆï¼Œé™¤éåšé¢å¤–çš„æ£€æŸ¥ã€‚</p>
<p>Kotlinè§£å†³NullPointerExceptionä¹‹é“ï¼šæŠŠè¿è¡Œæ—¶çš„é”™è¯¯è½¬å˜æˆç¼–è¯‘æœŸçš„é”™è¯¯</p>
<ul>
<li>ç¼–è¯‘å™¨å¼ºåˆ¶æ£€æµ‹å˜é‡å®å‚,æ‰€æœ‰å¸¸è§ç±»å‹é»˜è®¤éƒ½æ˜¯éç©ºçš„,å¯ä»¥åœ¨ä»»ä½•ç±»å‹çš„åé¢åŠ ?æ¥è¡¨ç¤ºè¿™ä¸ªç±»å‹çš„å˜é‡å¯ä»¥å­˜å‚¨ null å¼•ç”¨ã€‚<strong>ä½†æ˜¯å¯¹å¯nullå‚æ•°è¿›è¡Œçš„æ“ä½œä¹Ÿä¼šå—åˆ°é™åˆ¶ï¼Œéœ€è¦å¯¹å¯nullå‚æ•°è¿›è¡Œnullå¤„ç†(åˆ¤æ–­ï¼Œå®‰å…¨ç¬¦&hellip;)æ‰å¯ä»¥ç¼–è¯‘é€šè¿‡ã€‚</strong></li>
<li>Java ä¸­çš„ç±»å‹åœ¨Kotlinä¸­è¢«è§£é‡Šæˆå¹³å°ç±»å‹ï¼Œå…è®¸å¼€å‘è€…æŠŠå®ƒä»¬å½“ä½œå¯ç©ºæˆ–éç©ºæ¥å¯¹å¾…ã€‚</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">strLen</span>(s: String?) = s<span style="color:#f92672">?.</span>length
</code></pre></div><ul>
<li>å®‰å…¨è¿ç®—ç¬¦
<strong>?. å’Œ ?: å®‰å…¨Nullè¿ç®—ç¬¦</strong></li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * ?.æŠŠä¸€æ¬¡ null æ£€æŸ¥å’Œä¸€æ¬¡æ–¹æ³•è°ƒç”¨åˆå¹¶æˆä¸€ä¸ªæ“ä½œ
</span><span style="color:#75715e"> * ä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰æ•ˆçš„
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">strLen</span>(s: String?) = s<span style="color:#f92672">?.</span>length

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">strLenOld</span>(s: String?) = {
    <span style="color:#66d9ef">if</span> (s != <span style="color:#66d9ef">null</span>) s.length <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">null</span>
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Elvis è¿ç®—ç¬¦ ä»£æ›¿ null çš„é»˜è®¤å€¼ï¼Œä¹Ÿå¯é…åˆthrowé£Ÿç”¨
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">val</span> t: String = s <span style="color:#f92672">?:</span> <span style="color:#e6db74">&#34;&#34;</span>

<span style="color:#66d9ef">val</span> t: String = s <span style="color:#f92672">?:</span> <span style="color:#66d9ef">throw</span> IllegalArgumentException(<span style="color:#e6db74">&#34;String is null&#34;</span>)

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * é“¾å¼å®‰å…¨è°ƒç”¨
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Address</span>(<span style="color:#66d9ef">val</span> streetAddress: String, <span style="color:#66d9ef">val</span> zipCode: Int, <span style="color:#66d9ef">val</span> city: String, <span style="color:#66d9ef">val</span> country: String)
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Company</span>(<span style="color:#66d9ef">val</span> name: String, <span style="color:#66d9ef">val</span> address: Address ? )
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>(<span style="color:#66d9ef">val</span> name: String, <span style="color:#66d9ef">val</span> company: Company?)

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Person</span>.countryName() :String{
    <span style="color:#66d9ef">val</span> companyStr = <span style="color:#66d9ef">this</span>.company<span style="color:#f92672">?.</span>address<span style="color:#f92672">?.</span>country
    <span style="color:#66d9ef">return</span> companyStr<span style="color:#f92672">?:</span><span style="color:#e6db74">&#34;UnKnow&#34;</span>
}
</code></pre></div><p><strong>as? å®‰å…¨ç±»å‹è½¬æ¢è¿ç®—ç¬¦</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * as? å°è¯•æŠŠå€¼è½¬æ¢æˆæŒ‡å®šçš„ç±»å‹ï¼Œ å¦‚æœå€¼ä¸æ˜¯åˆé€‚çš„ç±»å‹å°±è¿”å› null
</span><span style="color:#75715e"> * é…åˆElvis è¿ç®—ç¬¦
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">val</span> otherPerson = o <span style="color:#66d9ef">as</span>? Person<span style="color:#f92672">?:</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
</code></pre></div><p><strong>éNullæ–­è¨€!!</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * !!å¯ä»¥æŠŠä»»ä½•å€¼è½¬æ¢æˆéç©ºç±»å‹ã€‚å¦‚æœå¯¹ null å€¼åšéç©ºæ–­è¨€ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">ignoreNulls</span>(s: String?) {
    <span style="color:#66d9ef">val</span> sNotNullVal = s<span style="color:#f92672">!!</span> <span style="color:#75715e">//å¦‚æœsä¸ºnull,æ­¤å¤„æŠ›å‡ºKotlinNullPointerExceptionå¼‚å¸¸
</span><span style="color:#75715e"></span>    println(sNotNullVal)
}
</code></pre></div><p><strong>let</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * let:å…è®¸ä½ å¯¹è¡¨è¾¾å¼æ±‚å€¼ï¼Œæ£€æŸ¥æ±‚å€¼ç»“æœæ˜¯å¦ä¸º null ,å¹¶æŠŠç»“æœä¿å­˜ä¸ºä¸€ä¸ªå˜é‡
</span><span style="color:#75715e"> * åªåœ¨è¡¨è¾¾å¼ä¸ä¸º null æ—¶æ‰§è¡Œ lambda,ç›¸å½“äº
</span><span style="color:#75715e"> * if (email != null)  sendEmailTo(email)
</span><span style="color:#75715e"> */</span>
email<span style="color:#f92672">?.</span>let { email -&gt; sendEmailTo(email) }
</code></pre></div><p><strong>lateinit å»¶è¿Ÿåˆå§‹åŒ–</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * ä¸éœ€è¦åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–å®ƒã€‚å¦‚æœåœ¨å±æ€§è¢«åˆå§‹åŒ–ä¹‹å‰å°±è®¿é—®äº†å®ƒï¼Œä¼šæŠ›å‡ºå¼‚å¸¸
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> myService: MyService
</code></pre></div><ul>
<li>Kotlinä¸Java Nullæ“ä½œ
Java çš„ç±»å‹ç³»ç»Ÿæ˜¯ä¸æ”¯æŒå¯ç©ºæ€§çš„</li>
</ul>
<p>Kotlinæ³¨è§£è½¬æ¢ï¼šJava ä¸­çš„@ Nullable String è¢« Kotlin å½“ä½œ String?,è€Œ@NotNull String å°±æ˜¯String</p>
<p>Kotlinç¼–è¯‘å™¨æ— æ³•å¯¹Javaçš„å¯Nullç±»å‹æ£€æµ‹ï¼Œå¼€å‘è€…è´Ÿè´£æ­£ç¡®å¤„ç†æ¥è‡ª Java çš„å€¼ã€‚</p>
<h3 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h3>
<ul>
<li>å¯¹æ¯”Java</li>
</ul>
<p>æ•´æ•°ç±»å‹ Byte Short Int Long
æµ®ç‚¹æ•°ç±»å‹ Float Double
å­—ç¬¦ç±»å‹ Char
å¸ƒå°”ç±»å‹ Boolean</p>
<p>å¯¹æ¯”Javaï¼ŒKotlinä¸åŒºåˆ†åŸºæœ¬æ•°æ®ç±»å‹å’Œå®ƒä»¬çš„åŒ…è£…ç±»ã€‚å¯¹äºå˜é‡ã€å±æ€§ã€å‚æ•°å’Œè¿”å›ç±»å‹Kotlinç¼–è¯‘å™¨ä¼šå°½å¯èƒ½ç¼–è¯‘ä¸ºåŸºæœ¬ç±»å‹ï¼Œé™¤äº†æ³›å‹ã€‚</p>
<p>Kotiinä¸ä¼šè‡ªåŠ¨åœ°æŠŠæ•°å­—ä»ä¸€ç§ç±»å‹è½¬æ¢æˆå¦å¤–ä¸€ç§ï¼Œå³ä¾¿æ˜¯è½¬æ¢æˆèŒƒå›´æ›´å¤§çš„ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨æ”¯æŒåŒå‘è½¬æ¢çš„å‡½æ•°,toByte(),toShort()&hellip; Kotlin è¦æ±‚è½¬æ¢å¿…é¡»æ˜¯æ˜¾å¼çš„ï¼Œå¯ä»¥é¿å…è½¬æ¢æ•°å€¼çš„é—®é¢˜ã€‚</p>
<ul>
<li>
<p>æ ¹ç±»å‹&rsquo;Any&rsquo; &lsquo;Any?&rsquo;
Anyç±»å‹æ˜¯Kotiinæ‰€æœ‰éç©ºç±»å‹çš„è¶…ç±»å‹ï¼ŒåŒ…æ‹¬åŸºç¡€ç±»å‹,åŒºåˆ«äºJava Object åªæ˜¯æ‰€æœ‰å¼•ç”¨ç±»å‹çš„è¶…ç±»å‹ï¼ŒéåŸºç¡€ç±»å‹</p>
</li>
<li>
<p>Unit ç±»å‹ å’Œ Nothing ç±»å‹
Unitæ˜¯Kotlin çš„ &lsquo;void&rsquo; ï¼ŒåŒºåˆ«æ˜¯Unitæ˜¯ä¸€ä¸ªå®Œå¤‡çš„ç±»å‹ï¼Œå¯ä»¥ä½œä¸ºç±»å‹å‚æ•°ã€‚åªå­˜åœ¨ä¸€ä¸ªå€¼æ˜¯ Unit ç±»å‹ï¼Œè¿™ä¸ªå€¼ä¹Ÿå«ä½œ Unitï¼Œå¹¶ä¸”ï¼ˆåœ¨å‡½æ•°ä¸­ï¼‰ä¼šè¢«éšå¼åœ°è¿”å›ã€‚</p>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">//ä¸‹é¢ä¸¤ä¸ªå‡½æ•°ç­‰æ•ˆ
</span><span style="color:#75715e"></span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">f</span> () : Unit { . . . }
<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">f</span> () { .. }

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Processor</span>&lt;T&gt; {
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">process</span>(): T
}

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NoResultProcessor</span> : Processor&lt;Unit&gt;{
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">process</span>() {
        <span style="color:#75715e">//ä¸éœ€è¦æ˜¾ç¤ºreturn ä¼šéšå¼è¿”å›Unit
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><p>Nothing ç±»å‹æ²¡æœ‰ä»»ä½•å€¼,åªæœ‰è¢«å½“ä½œå‡½æ•°è¿”å›å€¼ä½¿ç”¨,è¡¨ç¤ºå‡½æ•°æ°¸ä¸è¿”å›</p>
<ul>
<li>é›†åˆæ•°ç»„</li>
</ul>
<p><strong>é›†åˆ</strong></p>
<p><code>List&lt;Int?&gt; </code>: åˆ—è¡¨ä¸­çš„å•ä¸ªå€¼æ˜¯å¯Nullçš„ <!-- raw HTML omitted -->
<code>List&lt;Int&gt;?</code> : é›†åˆæœ¬èº«æ˜¯å¯Nullçš„,ä½†åˆ—è¡¨ä¸­çš„å…ƒç´ ä¿è¯æ˜¯éç©ºçš„ <!-- raw HTML omitted -->
<code>List&lt;Int?&gt;?</code> :é›†åˆæœ¬èº«æ˜¯å¯Nullçš„,åˆ—è¡¨ä¸­çš„å•ä¸ªå€¼æ˜¯å¯Nullçš„</p>
<p>å¯ä»¥ä½¿ç”¨filterNotNull()å‡½æ•°è¿‡æ»¤é›†åˆ</p>
<p><strong>åªè¯»é›†åˆï¼Œå¯å˜é›†åˆ</strong></p>
<p>å¯¹æ¯”Java,KotlinæŠŠè®¿é—®é›†åˆæ•°æ®çš„æ¥å£å’Œä¿®æ”¹é›†åˆæ•°æ®çš„æ¥å£åˆ†å¼€äº†ã€‚Collectionæ¥å£(è¯»)ï¼ŒMutableCollectionæ¥å£(å†™)</p>
<p>ä¼˜åŠ¿:è®©ç¨‹åº ä¸­çš„æ•°æ®å‘ç”Ÿçš„äº‹æƒ…æ›´å®¹æ˜“ç†è§£ï¼Œæ ¹æ®å…¥å‚ç±»å‹æ˜¯å¯è¯»æˆ–è€…å¯å†™çš„ï¼Œå¾ˆå®¹æ˜“å®ç°é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span>&lt;T&gt; copyElements(source:Collection&lt;T&gt;,target:MutableCollection&lt;T&gt;){
    <span style="color:#66d9ef">for</span> (item <span style="color:#66d9ef">in</span> source){
        target.add(item)
    }
}
</code></pre></div><p><strong>æ•°ç»„</strong></p>
<p>Kotiin ä¸­çš„ä¸€ä¸ªæ•°ç»„æ˜¯ä¸€ä¸ªå¸¦æœ‰ç±»å‹å‚æ•°çš„ç±»Arrayï¼Œå…¶å…ƒç´ ç±»å‹è¢«æŒ‡å®šä¸ºç›¸åº”çš„ç±»å‹å‚æ•°ã€‚åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„ä½¿ç”¨åƒ IntArray è¿™æ ·çš„ç‰¹æ®Šç±»æ¥è¡¨ç¤º ã€‚</p>
<h3 id="è¯­è¨€ç‰¹æ€§-çº¦å®š">è¯­è¨€ç‰¹æ€§-çº¦å®š</h3>
<h4 id="é‡è½½">é‡è½½</h4>
<ul>
<li>äºŒå…ƒè¿ç®—ç¬¦é‡è½½</li>
</ul>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å‡½æ•°å</th>
</tr>
</thead>
<tbody>
<tr>
<td>a * b</td>
<td>times</td>
</tr>
<tr>
<td>a / b</td>
<td>div</td>
</tr>
<tr>
<td>a % b</td>
<td>mod</td>
</tr>
<tr>
<td>a + b</td>
<td>plus</td>
</tr>
<tr>
<td>a - b</td>
<td>minus</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * å®šä¹‰ä¸€ä¸ªåä¸ºplusçš„æ–¹æ³•ï¼Œoperatoré‡è½½+å·è¿ç®—ç¬¦(æ‰©å±•å‡½æ•°)
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Point</span>.plus(other: Point): Point {
    <span style="color:#66d9ef">return</span> Point(x + other.x, y + other.y)
}

<span style="color:#66d9ef">data</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span>(<span style="color:#66d9ef">val</span> x: Int, <span style="color:#66d9ef">val</span> y: Int)

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>(args: Array&lt;String&gt;) {
    <span style="color:#66d9ef">val</span> p1 = Point(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>)
    <span style="color:#66d9ef">val</span> p2 = Point(<span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">40</span>)
    println(p1 + p2)
}
    
</code></pre></div><ul>
<li>ä¸€å…ƒè¿ç®—ç¬¦é‡è½½</li>
</ul>
<p>ç”¨äºé‡è½½ä¸€å…ƒè¿ç®—ç¬¦çš„å‡½æ•°ï¼Œæ²¡æœ‰ä»»ä½•å‚æ•°ã€‚</p>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å‡½æ•°å</th>
</tr>
</thead>
<tbody>
<tr>
<td>+a</td>
<td>unaryPlus</td>
</tr>
<tr>
<td>-a</td>
<td>unaryMinus</td>
</tr>
<tr>
<td>!a</td>
<td>not</td>
</tr>
<tr>
<td>++a,a++</td>
<td>inc</td>
</tr>
<tr>
<td>&ndash;a,a&ndash;</td>
<td>dec</td>
</tr>
</tbody>
</table>
<ul>
<li>æ¯”è¾ƒè¿ç®—ç¬¦é‡è½½
å¦‚æœåœ¨ Kotiin ä¸­ä½¿ç”¨ï¼ï¼(!=)è¿ç®—ç¬¦ï¼Œå®ƒå°†è¢«è½¬æ¢æˆ equals(!equals) æ–¹æ³•çš„è°ƒç”¨ã€‚<code>===</code>æ’ç­‰äºç­‰æ•ˆäºJavaçš„<code>==</code>ã€‚</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">data</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Point</span>(<span style="color:#66d9ef">val</span> x: Int, <span style="color:#66d9ef">val</span> y: Int){
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">equals</span>(obj: Any?): Boolean {
        <span style="color:#66d9ef">if</span>(obj === <span style="color:#66d9ef">this</span>) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span> <span style="color:#75715e">//å¼•ç”¨æ£€æµ‹
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (obj !<span style="color:#66d9ef">is</span> Point) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#75715e">//ç±»å‹æ£€æµ‹
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> obj.x == x &amp;&amp; obj.y == y
    }
}
</code></pre></div><ul>
<li>é‡è½½(ä¸‹æ ‡è®¿é—®get/set),in,rangeTo,iterator</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Point</span>.<span style="color:#66d9ef">get</span>(index: Int):Int{
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">when</span>(index){
        <span style="color:#ae81ff">0</span> -&gt; x
        <span style="color:#ae81ff">1</span> -&gt; y
        <span style="color:#66d9ef">else</span> -&gt; <span style="color:#66d9ef">throw</span> IndexOutOfBoundsException(<span style="color:#e6db74">&#34;Invalid coordinate $index&#34;</span>)
    }
}

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>(args: Array&lt;String&gt;) {
    <span style="color:#66d9ef">val</span> p1 = Point(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">20</span>)
    println(<span style="color:#e6db74">&#34;p1 x-&gt; ${p1[0]}y-&gt; ${p1[1]}&#34;</span>)
}
</code></pre></div><h4 id="è§£æ„å£°æ˜å’Œç»„ä»¶å‡½æ•°">è§£æ„å£°æ˜å’Œç»„ä»¶å‡½æ•°</h4>
<p>è§£æ„å£°æ˜å…è®¸ä½ å±•å¼€å•ä¸ªå¤åˆå€¼ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥åˆå§‹åŒ–å¤šä¸ªå•ç‹¬çš„å˜é‡ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * æ•°æ®ç±»æŒæœ‰ç±»å‹
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">data</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NamesComponents</span>(<span style="color:#66d9ef">val</span> name: String, <span style="color:#66d9ef">val</span> ext: String)

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">splitFilename</span>(fullName: String): NamesComponents {
    <span style="color:#66d9ef">val</span> reslut = fullName.split(<span style="color:#e6db74">&#34;.&#34;</span>, limit = <span style="color:#ae81ff">2</span>)
    <span style="color:#66d9ef">return</span> NamesComponents(reslut[<span style="color:#ae81ff">0</span>], reslut[<span style="color:#ae81ff">1</span>])
}

<span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">main</span>(args: Array&lt;String&gt;) {
    <span style="color:#75715e">//è§£æ„å£°æ˜å±•å¼€ç±»
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> <span style="color:#960050;background-color:#1e0010">(</span>name, ext) = splitFilename(<span style="color:#e6db74">&#34;ext.so&#34;</span>)
    println(<span style="color:#e6db74">&#34;name:$name ext $ext&#34;</span>)
}
</code></pre></div><p>è§£æ„å£°æ˜å¯ç”¨äºé›†åˆå¾ªç¯</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">for</span> (entry <span style="color:#66d9ef">in</span> map.entries) {
<span style="color:#66d9ef">val</span> key = entry. cornponentl()
<span style="color:#66d9ef">val</span> value= entry.cornponent2()
}
</code></pre></div><h4 id="å§”æ‰˜å±æ€§">å§”æ‰˜å±æ€§</h4>
<p>å§”æ‰˜æ¨¡å¼ï¼Œè¿™ä¸ªæ¨¡å¼åº”ç”¨äºä¸€ä¸ªå±æ€§æ—¶ï¼Œå®ƒä¹Ÿå¯ä»¥å°†è®¿é—®å™¨çš„é€»è¾‘å§”æ‰˜ç»™ä¸€ä¸ªè¾…åŠ©å¯¹è±¡ã€‚Kotlinä¸­å…³é”®å®‡byå¯ä»¥ç”¨äºä»»ä½•ç¬¦åˆå±æ€§å§”æ‰˜çº¦å®šè§„åˆ™çš„å¯¹è±¡ã€‚</p>
<p>ç”¨å¤„ï¼šObservableï¼ŒListener(ç¼–è¯‘å™¨è‡ªåŠ¨å®ç°ä»£ç )Delegates.observable å‡½æ•°å¯ä»¥ç”¨æ¥æ·»åŠ å±æ€§æ›´æ”¹çš„è§‚å¯Ÿè€…</p>
<ul>
<li>å§”æ‰˜å±æ€§</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span> {
<span style="color:#75715e">// å¯¹pçš„get/setæ“ä½œè°ƒç”¨å¯¹åº”Delegateçš„get/setValue
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> p: Type <span style="color:#66d9ef">by</span> Delegate ()
}

<span style="color:#75715e">//å§”æ‰˜å±æ€§åº”ç”¨:å­˜å‚¨åˆ°MySql/Map
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> {
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> _attributes = hashMapOf&lt;String, String&gt; ()
    
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setAttribute</span>(attrName: String, value: String) {
        _attributes[attrName] = value
    }
    <span style="color:#75715e">//å°†map(_attributes) ä½œä¸ºå§”æ‰˜å±æ€§ set/get nameè‡ªåŠ¨å­˜å‚¨åˆ°Map
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> name: String <span style="color:#66d9ef">by</span> _attributes 
}
</code></pre></div><ul>
<li>æƒ°æ€§åˆå§‹åŒ–
ç›¸æ¯”javaçš„if<code>(obj==null){//åˆå§‹åŒ–å¹¶è¿”å›}else{//ç›´æ¥è¿”å›}</code>ï¼ŒKotlinå¯ä»¥æ›´ç®€å•åšåˆ°</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>(<span style="color:#66d9ef">val</span> name:String){
    <span style="color:#66d9ef">val</span> email <span style="color:#66d9ef">by</span> lazy { loadEmail(<span style="color:#66d9ef">this</span>) }

}
</code></pre></div>
        </p>
    </div>
</div>

<aside class="post-toc">
    <nav id="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#å¯nullæ€§">å¯Nullæ€§</a></li>
            <li><a href="#æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</a></li>
            <li><a href="#è¯­è¨€ç‰¹æ€§-çº¦å®š">è¯­è¨€ç‰¹æ€§-çº¦å®š</a>
              <ul>
                <li><a href="#é‡è½½">é‡è½½</a></li>
                <li><a href="#è§£æ„å£°æ˜å’Œç»„ä»¶å‡½æ•°">è§£æ„å£°æ˜å’Œç»„ä»¶å‡½æ•°</a></li>
                <li><a href="#å§”æ‰˜å±æ€§">å§”æ‰˜å±æ€§</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </nav>
</aside>



    

        </main><footer class="footer">
    <span>&copy; 2023 hanrong.li</span>
    <span>
        Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/526avijitgupta/gokarna">Gokarna</a>
    </span>
</footer>
</body>
</html>
