<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
        :root {
            --accent-color: #FF4D4D;
        }
    </style>

    
    
    
    
    
    

    
    <title>Jenkins-pipeline-Docker å®ç°CI/CD</title>
    <meta name="description" content="keep curious ğŸ˜¼">
    <meta name="keywords" content='blog, chinalhr, lhr, jenkins, CI&CD'>

    <meta property="og:url" content="https://chinalhr.github.io/post/jenkins-java-ci-cd/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Jenkins-pipeline-Docker å®ç°CI/CD">
    <meta property="og:description" content="keep curious ğŸ˜¼">
    <meta property="og:image" content="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Jenkins-pipeline-Docker å®ç°CI/CD">
    <meta name="twitter:description" content="keep curious ğŸ˜¼">
    <meta property="twitter:domain" content="https://chinalhr.github.io/post/jenkins-java-ci-cd/">
    <meta property="twitter:url" content="https://chinalhr.github.io/post/jenkins-java-ci-cd/">
    <meta name="twitter:image" content="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg">

    
    <link rel="canonical" href="https://chinalhr.github.io/post/jenkins-java-ci-cd/" />

    <link rel="stylesheet" type="text/css" href="https://chinalhr.github.io//css/normalize.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" type="text/css" href="https://chinalhr.github.io//css/main.css">
    <link disabled id="dark-theme" rel="stylesheet" href="https://chinalhr.github.io//css/dark.css">

    <script src="https://chinalhr.github.io//js/svg-injector.min.js"></script>
    <script src="https://chinalhr.github.io//js/feather-icons.min.js"></script>
    <script src="https://chinalhr.github.io//js/main.js"></script>

    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-JLJBQBW5WM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){window.dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JLJBQBW5WM');
</script>
  
    
</head>
<body>
        <script type="text/javascript">
            
            setThemeByUserPref();
        </script><header class="header">
    <nav class="header-nav">

        
        <div class="avatar">
            <a href="https://chinalhr.github.io/">
                <img src="https://user-images.githubusercontent.com/19829495/188320707-5b468cc9-bea4-486c-b591-57ff8324e41c.jpg" alt="avatar" />
            </a>
        </div>
        

        <div class="nav-title">
            <a class="nav-brand" href="https://chinalhr.github.io/">LHR</a>
        </div>

        <div class="nav-links">
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/"><span data-feather='home'></span> Home </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/post/"><span data-feather='book'></span> Posts </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/tags/"><span data-feather='tag'></span> Tags </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/projects/"><span data-feather='code'></span> Projects </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/about/"><span data-feather='user'></span> About </a>
            </div>
            
            <div class="nav-link">
                <a href="https://github.com/chinalhr"><span data-feather='github'></span>  </a>
            </div>
            
            <div class="nav-link">
                <a href="https://chinalhr.github.io/index.xml"><span data-feather='rss'></span>  </a>
            </div>
            

            <span class="nav-icons-divider"></span>
            <div class="nav-link dark-theme-toggle">
                <span id="dark-theme-toggle-screen-reader-target" class="sr-only"></span>
                <a>
                    <span id="theme-toggle-icon" data-feather="moon"></span>
                </a>
            </div>

            <div class="nav-link" id="hamburger-menu-toggle">
                <span id="hamburger-menu-toggle-screen-reader-target" class="sr-only">menu</span>
                <a>
                    <span data-feather="menu"></span>
                </a>
            </div>

            
            <ul class="nav-hamburger-list visibility-hidden">
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/"><span data-feather='home'></span> Home </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/post/"><span data-feather='book'></span> Posts </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/tags/"><span data-feather='tag'></span> Tags </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/projects/"><span data-feather='code'></span> Projects </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/about/"><span data-feather='user'></span> About </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://github.com/chinalhr"><span data-feather='github'></span>  </a>
                </li>
                
                <li class="nav-item">
                    <a href="https://chinalhr.github.io/index.xml"><span data-feather='rss'></span>  </a>
                </li>
                
                <li class="nav-item dark-theme-toggle">
                    <span id="dark-theme-toggle-screen-reader-target" class="sr-only">theme</span>
                    <a>
                        <span id="theme-toggle-icon" data-feather="moon"></span>
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>
<main id="content">
    <div class="post container">
    <div class="post-header-section">
        <h1>Jenkins-pipeline-Docker å®ç°CI/CD</h1>
        <small role="doc-subtitle"></small>
        <p class="post-date">
            December 29, 2019
        </p>

        <ul class="post-tags">
        
            <li class="post-tag"><a href="https://chinalhr.github.io/tags/jenkins">jenkins</a></li>
        
            <li class="post-tag"><a href="https://chinalhr.github.io/tags/cicd">CI&amp;CD</a></li>
        
        </ul>
    </div>

    <div class="post-content">
        <p>
            <blockquote>
<p>åŸºäºJenkinså’ŒDockerï¼Œå¯¹äºJavaåº”ç”¨CI/CDå®è·µçš„è®°å½•ã€‚</p>
</blockquote>
<h2 id="å…³äºcicd">å…³äºCI/CD</h2>
<h3 id="æŒç»­é›†æˆci">æŒç»­é›†æˆ(CI)</h3>
<p>æŒç»­é›†æˆå¼€å‘äººå‘˜èƒ½å¤Ÿé¢‘ç¹åœ°å°†å…¶ä»£ç é›†æˆåˆ°å…¬å…±ä»£ç ä»“åº“çš„ä¸»åˆ†æ”¯ä¸­ã€‚ å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨ä»»ä½•æ—¶å€™å¤šæ¬¡å‘ä»“åº“æäº¤ä½œå“ï¼Œè€Œä¸æ˜¯ç‹¬ç«‹åœ°å¼€å‘æ¯ä¸ªåŠŸèƒ½æ¨¡å—å¹¶åœ¨å¼€å‘å‘¨æœŸç»“æŸæ—¶ä¸€ä¸€æäº¤ã€‚ä¸»è¦ç›®çš„æ˜¯å°½æ—©å‘ç°é›†æˆé”™è¯¯ï¼Œä½¿å›¢é˜Ÿæ›´åŠ ç´§å¯†ç»“åˆï¼Œæ›´å¥½åœ°åä½œã€‚</p>
<p><strong>ç›®çš„</strong></p>
<ul>
<li>å‡å°‘é›†æˆçš„å¼€é”€ï¼Œå¦‚ä»£ç å†²çª</li>
<li>å°†é›†æˆç®€åŒ–æˆä¸€ä¸ªç®€å•ã€æ˜“äºé‡å¤çš„æ—¥å¸¸å¼€å‘ä»»åŠ¡ï¼Œé™ä½æ€»ä½“çš„æ„å»ºæˆæœ¬ï¼ŒåŠæ—©å‘ç°ç¼ºé™·</li>
</ul>
<h3 id="æŒç»­äº¤ä»˜cd">æŒç»­äº¤ä»˜(CD)</h3>
<p>æŒç»­äº¤ä»˜(CD)æ˜¯CIçš„æ‰©å±•ï¼ŒæŒ‡è½¯ä»¶äº¤ä»˜æµç¨‹çš„è¿›ä¸€æ­¥è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥éšæ—¶è‡ªåŠ¨åŒ–åœ°éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚ä½¿ç”¨CDåï¼Œå¼€å‘å›¢é˜Ÿå¯ä»¥åœ¨æ—¥å¸¸å¼€å‘çš„ä»»ä½•æ—¶é—´è¿›è¡Œäº§å“çº§çš„å‘å¸ƒï¼Œè€Œä¸éœ€è¦è¯¦ç»†çš„å‘å¸ƒæ–¹æ¡ˆæˆ–è€…ç‰¹æ®Šçš„åæœŸæµ‹è¯•ã€‚</p>
<p><strong>æŒç»­äº¤ä»˜ä¸æµæ°´çº¿</strong></p>
<ul>
<li>CD é›†ä¸­ä¾èµ–äºéƒ¨ç½²æµæ°´çº¿ï¼Œé€šè¿‡æµæ°´çº¿è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²è¿‡ç¨‹</li>
<li>æµæ°´çº¿åŒ…å«äº† æ„å»º-æµ‹è¯•-éƒ¨ç½²</li>
<li>åœ¨æµæ°´çº¿çš„æ¯ä¸ªé˜¶æ®µï¼Œå¦‚æœæ— æ³•æ„å»ºé€šè¿‡æˆ–è€…å…³é”®æµ‹è¯•å¤±è´¥ä¼šå‘å›¢é˜Ÿå‘å‡ºè­¦æŠ¥ï¼Œæµæ°´çº¿çš„æœ€åä¸€ä¸ªéƒ¨åˆ†ä¼šå°†æ„å»ºéƒ¨ç½²åˆ°å’Œç”Ÿäº§ç¯å¢ƒç­‰æ•ˆçš„ç¯å¢ƒä¸­</li>
</ul>
<h3 id="æŒç»­éƒ¨ç½²cd">æŒç»­éƒ¨ç½²(CD)</h3>
<p>æŒç»­éƒ¨ç½²æ‰©å±•äº†æŒç»­äº¤ä»˜ï¼Œä»¥ä¾¿è½¯ä»¶æ„å»ºåœ¨é€šè¿‡æ‰€æœ‰æµ‹è¯•æ—¶è‡ªåŠ¨éƒ¨ç½²ã€‚åœ¨è¿™æ ·çš„æµç¨‹ä¸­ï¼Œ ä¸éœ€è¦äººä¸ºå†³å®šä½•æ—¶åŠå¦‚ä½•æŠ•å…¥ç”Ÿäº§ç¯å¢ƒã€‚CI/CD ç³»ç»Ÿçš„æœ€åä¸€æ­¥å°†åœ¨æ„å»ºåçš„ç»„ä»¶/åŒ…é€€å‡ºæµæ°´çº¿æ—¶è‡ªåŠ¨éƒ¨ç½²ã€‚ æ­¤ç±»è‡ªåŠ¨éƒ¨ç½²å¯ä»¥é…ç½®ä¸ºå¿«é€Ÿå‘å®¢æˆ·åˆ†å‘ç»„ä»¶ã€åŠŸèƒ½æ¨¡å—æˆ–ä¿®å¤è¡¥ä¸ï¼Œå¹¶å‡†ç¡®è¯´æ˜å½“å‰æä¾›çš„å†…å®¹ã€‚</p>
<p><strong>ç›®çš„</strong></p>
<ul>
<li>å°†æ–°åŠŸèƒ½å¿«é€Ÿä¼ é€’ç»™ç”¨æˆ·ï¼Œå¾—åˆ°ç”¨æˆ·å¯¹äºæ–°ç‰ˆæœ¬çš„å¿«é€Ÿåé¦ˆï¼Œå¹¶ä¸”å¯ä»¥è¿…é€Ÿå¤„ç†ä»»ä½•æ˜æ˜¾çš„ç¼ºé™·ã€‚</li>
</ul>
<h2 id="jenkinså®‰è£…é…ç½®åŸºäºdocker">jenkinså®‰è£…/é…ç½®(åŸºäºDocker)</h2>
<h3 id="å®‰è£…">å®‰è£…</h3>
<pre><code># dockerè·å–jenkinsé•œåƒ
docker pull jenkins/jenkins

# å¯åŠ¨Jenkins
docker run -u root -itd --name jenkins \
-p 10080:8080 \
-v $(which docker):/usr/bin/docker -v /var/run/docker.sock:/var/run/docker.sock \
-e TZ=&quot;Asia/Shanghai&quot; -v /etc/localtime:/etc/localtime \
-e JAVA_OPTS='-Xms1024m -Xmx1024m -XX:NewSize=512m' \
-v /volume1/docker/jenkins:/var/jenkins_home jenkins/jenkins

# -p 10080:8080 æ˜ å°„å®¹å™¨çš„8080ç«¯å£åˆ°å¤–éƒ¨ä¸»æœºçš„10080ç«¯å£
# -v $(which docker):/usr/bin/docker -v /var/run/docker.sock:/var/run/docker.sock ä½¿jenkinså†…éƒ¨å¯ä»¥ä½¿ç”¨dockerå‘½ä»¤
# -e TZ=&quot;Asia/Shanghai&quot; -v /etc/localtime:/etc/localtime é…ç½®Jenkinså®¹å™¨çš„æ—¶åŒº
# -v /volume1/docker/jenkins:/var/jenkins_home jenkins/jenkins å°†Jenkinsçš„é…ç½®æ˜ å°„åˆ°å¤–éƒ¨ä¸»æœºå·/volume1/docker/jenkinsï¼ˆåˆ é™¤å®¹å™¨åå¯ä¿ç•™ï¼‰
</code></pre><h3 id="æ’ä»¶æ¨è">æ’ä»¶æ¨è</h3>
<table>
<thead>
<tr>
<th>æ’ä»¶å</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>Blue Ocean</td>
<td>Jenkinsçš„ä¸€ç§æ–°è§†å›¾ï¼Œèƒ½å¤Ÿé€šè¿‡å›¾å½¢åŒ–çš„ç•Œé¢åˆ›å»ºå’Œç¼–è¾‘Jenkinsfileï¼Œå®ç°pipeline as code</td>
</tr>
<tr>
<td>Pipeline Maven Integration Plugin</td>
<td>åœ¨pipelineä¸­é›†æˆmavenï¼Œå³å¯ä½¿ç”¨withMaven{}å‘½ä»¤</td>
</tr>
<tr>
<td>Config File Provider Plugin</td>
<td>å¯åˆ›å»ºå¹¶ç®¡ç†Mavençš„settingsæ–‡ä»¶åŠå…¶ä»–é…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td>JUnit Attachments Plugin</td>
<td>å¯ä»¥å¯¹å•å…ƒæµ‹è¯•ç”Ÿæˆçš„æµ‹è¯•ç»“æœåœ¨Jenkinsä¸­è¿›è¡Œå±•ç¤º</td>
</tr>
<tr>
<td>HTTP Request Plugin</td>
<td>å‘é€HTTPè¯·æ±‚</td>
</tr>
</tbody>
</table>
<h3 id="é…ç½®">é…ç½®</h3>
<ul>
<li>é…ç½®Gitå‡­æ®</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/19829495/76158772-60f46d00-6154-11ea-9a0e-7d7e53b62deb.png" alt="å›¾ç‰‡"></p>
<ul>
<li>é…ç½®maven settingæ–‡ä»¶</li>
</ul>
<p>éœ€è¦å®‰è£…æ’ä»¶Config File Provider Plugin</p>
<p><img src="https://user-images.githubusercontent.com/19829495/76158776-72d61000-6154-11ea-9c8e-23274b0b26fe.png" alt="å›¾ç‰‡"></p>
<h2 id="jenkins-pipeline">Jenkins Pipeline</h2>
<h3 id="ä»€ä¹ˆæ˜¯pipline">ä»€ä¹ˆæ˜¯Pipline</h3>
<p>pipeline æ˜¯jenkins2.X æœ€æ ¸å¿ƒçš„ç‰¹æ€§ï¼Œ å¸®åŠ©jenkins å®ç°ä»CI åˆ° CDä¸ DevOpsçš„è½¬å˜ã€‚pipeline æ˜¯ä¸€å¥—è¿è¡Œäºjenkinsä¸Šçš„å·¥ä½œæµæ¡†æ¶ï¼Œå°†åŸæœ¬ç‹¬ç«‹è¿è¡Œäºå•ä¸ªæˆ–è€…å¤šä¸ªèŠ‚ç‚¹çš„ä»»åŠ¡è¿æ¥èµ·æ¥ï¼Œå®ç°å•ä¸ªä»»åŠ¡éš¾ä»¥å®Œæˆçš„å¤æ‚æµç¨‹ç¼–æ’ä¸å¯è§†åŒ–ã€‚</p>
<h3 id="pipelineä¼˜åŠ¿">pipelineä¼˜åŠ¿</h3>
<ol>
<li>ä»£ç ï¼špipeline ä»¥ä»£ç çš„å½¢å¼å®ç°ï¼Œé€šè¿‡è¢«æ¡å…¥æºä»£ç æ§åˆ¶ï¼Œ ä½¿å›¢é˜Ÿèƒ½å¤Ÿç¼–è¯‘ï¼Œå®¡æŸ¥å’Œè¿­ä»£å…¶cdæµç¨‹</li>
<li>å¯è¿ç»­æ€§ï¼šjenkins é‡å¯ æˆ–è€…ä¸­æ–­åéƒ½ä¸ä¼šå½±å“pipeline job</li>
<li>åœé¡¿ï¼špipeline å¯ä»¥é€‰æ‹©åœæ­¢å¹¶ç­‰å¾…äººå·¥è¾“å…¥æˆ–è€…æ‰¹å‡†ï¼Œç„¶ååœ¨ç»§ç»­pipelineè¿è¡Œ</li>
<li>å¤šåŠŸèƒ½ï¼špipeline æ”¯æŒç°å®ä¸–ç•Œçš„å¤æ‚CDè¦æ±‚ï¼Œ åŒ…æ‹¬forkã€joinå­è¿›ç¨‹ï¼Œå¾ªç¯å’Œå¹¶è¡Œæ‰§è¡Œå·¥ä½œçš„èƒ½åŠ›</li>
<li>å¯æ‰©å±•ï¼špipeline æ’ä»¶æ”¯æŒå…¶DSLçš„è‡ªåŠ¨æ‰©å±•ä»¥åŠå…¶æ’ä»¶é›†æˆçš„å¤šä¸ªé€‰é¡¹ã€‚</li>
</ol>
<h3 id="pipelineç»„æˆ">pipelineç»„æˆ</h3>
<ul>
<li>åŸºæœ¬ç»“æ„</li>
</ul>
<pre><code>pipeline {
    agent { docker 'maven:3.3.3' }
    stages {
        stage('build') {
            steps {
                sh 'mvn --version'
            }
        }
    }
	post {
        always {
            echo 'This will always run'
        }
        success {
            echo 'This will run only if successful'
        }
        failure {
            echo 'This will run only if failed'
        }
        ...
    }
}
</code></pre><ul>
<li>agent</li>
</ul>
<p>agentæŒ‡å®šæ•´ä¸ªPipelineæˆ–ç‰¹å®šstageå°†åœ¨Jenkinsç¯å¢ƒä¸­æ‰§è¡Œçš„ä½ç½®ï¼Œå…·ä½“å–å†³äºè¯¥agent éƒ¨åˆ†çš„ä½ç½®ã€‚è¯¥éƒ¨åˆ†å¿…é¡»åœ¨pipelineå—å†…çš„é¡¶å±‚å®šä¹‰ï¼Œstageå—å†…çš„agentæ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li>post</li>
</ul>
<p>postå®šä¹‰å°†åœ¨Pipelineè¿è¡Œæˆ–stageç»“æŸæ—¶è¿è¡Œçš„æ“ä½œã€‚</p>
<ul>
<li>stage stages</li>
</ul>
<p>åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªstageæŒ‡ä»¤çš„åºåˆ—ï¼Œè¯¥stageséƒ¨åˆ†æ˜¯Pipeline æè¿°çš„å¤§éƒ¨åˆ†â€œå·¥ä½œâ€æ‰€åœ¨çš„ä½ç½®ã€‚</p>
<ul>
<li>steps</li>
</ul>
<p>stepséƒ¨åˆ†å®šä¹‰äº†åœ¨ç»™å®šstageæŒ‡ä»¤ä¸­æ‰§è¡Œçš„ä¸€ç³»åˆ—ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚</p>
<h2 id="jenkins-pipelineå®ç°cicd">Jenkins Pipelineå®ç°CI/CD</h2>
<h3 id="åŸºæœ¬æµç¨‹">åŸºæœ¬æµç¨‹</h3>
<p>æ¶æ„å›¾ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/19829495/76158855-571f3980-6155-11ea-957b-f82c19b055b4.png" alt="å›¾ç‰‡"></p>
<p>åŸºæœ¬æµç¨‹ï¼š</p>
<p><img src="https://user-images.githubusercontent.com/19829495/76158862-7027ea80-6155-11ea-92b8-aa40a124bd4c.png" alt="å›¾ç‰‡"></p>
<p>æ­¥éª¤ï¼š</p>
<ol>
<li>Jenkinsæ‹‰å–Gitä»£ç </li>
<li>é™æ€ä»£ç åˆ†æ</li>
<li>mavemæ„å»ºé¡¹ç›®</li>
<li>å•å…ƒæµ‹è¯•</li>
<li>buildé•œåƒ</li>
<li>pushé•œåƒåˆ°é•œåƒä»“åº“</li>
<li>è¿œç¨‹éƒ¨ç½²(å®Œæˆä¸‹è½½é•œåƒï¼Œæ‰§è¡Œé•œåƒçš„å‘½ä»¤)</li>
</ol>
<h3 id="pipelineå®ç°">Pipelineå®ç°</h3>
<h4 id="jenkinsæ‹‰å–gitä»£ç ">Jenkinsæ‹‰å–Gitä»£ç </h4>
<p>å¯ä»¥ä½¿ç”¨checkoutæ’ä»¶è¿›è¡ŒGitä»£ç æ‹‰å–ï¼ˆåˆ©ç”¨pipeline-syntaxç”Ÿæˆpipelineæµæ°´çº¿è„šæœ¬ï¼‰</p>
<pre><code> steps {
			//checkoutåˆ°masteråˆ†æ”¯è¿›è¡Œä»£ç æ‹‰å–
            checkout([$class: 'GitSCM', 
            branches: [[name: 'master']], 
            doGenerateSubmoduleConfigurations: false, 
            gitTool: 'Default', 
            extensions: [],
            submoduleCfg: [], 
            userRemoteConfigs: [[credentialsId: '8f240564-XXX-40b7-9faf-c08167aa27a3', url: 'git@gitee.com:XXX/XXX.git']]])
        }
</code></pre><p>é€‚é…git-flowåˆ†æ”¯æ¨¡å‹ï¼Œå®ç°å‘å¸ƒå‰è¿›è¡Œmergeæ“ä½œå’Œpushä»£ç æ“ä½œã€‚å‹¾é€‰å‚æ•°åŒ–æ„å»ºè¿‡ç¨‹,é€‰æ‹©Git Parameter,ç„¶ååœ¨pipelineå®ç°ç›¸å…³å‚æ•°ã€‚</p>
<p><img src="https://user-images.githubusercontent.com/19829495/76158868-7c13ac80-6155-11ea-9ed2-62bc6ae95ce5.png" alt="å›¾ç‰‡"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">
   parameters <span style="color:#f92672">{</span>
    	gitParameter branchFilter: <span style="color:#e6db74">&#39;origin/(.*)&#39;</span><span style="color:#f92672">,</span> defaultValue: <span style="color:#e6db74">&#39;master&#39;</span><span style="color:#f92672">,</span> name: <span style="color:#e6db74">&#39;BRANCH&#39;</span><span style="color:#f92672">,</span> type: <span style="color:#e6db74">&#39;PT_BRANCH&#39;</span><span style="color:#f92672">,</span> sortMode:<span style="color:#e6db74">&#39;DESCENDING&#39;</span>
   <span style="color:#f92672">}</span>
   
   stages <span style="color:#f92672">{</span>
       stage<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;Pull Source code&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        steps <span style="color:#f92672">{</span>
			<span style="color:#75715e">//checkoutåˆ°master å’Œ merge æŒ‡å®šåˆ†æ”¯æ“ä½œ
</span><span style="color:#75715e"></span>            checkout<span style="color:#f92672">([</span>$class<span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;GitSCM&#39;</span><span style="color:#f92672">,</span> 
            branches: <span style="color:#f92672">[[</span>name: <span style="color:#e6db74">&#39;master&#39;</span><span style="color:#f92672">]],</span> 
            doGenerateSubmoduleConfigurations: <span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> 
            gitTool: <span style="color:#e6db74">&#39;Default&#39;</span><span style="color:#f92672">,</span> 
            extensions: <span style="color:#f92672">[</span>
                <span style="color:#f92672">[</span>$class<span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;PreBuildMerge&#39;</span><span style="color:#f92672">,</span> options: <span style="color:#f92672">[</span>mergeRemote: <span style="color:#e6db74">&#39;origin&#39;</span><span style="color:#f92672">,</span> mergeStrategy: <span style="color:#e6db74">&#39;RECURSIVE&#39;</span><span style="color:#f92672">,</span> mergeTarget: <span style="color:#e6db74">&#34;${params.BRANCH}&#34;</span><span style="color:#f92672">]]</span>
            <span style="color:#f92672">],</span>
            submoduleCfg: <span style="color:#f92672">[],</span> 
            userRemoteConfigs: <span style="color:#f92672">[[</span>credentialsId: <span style="color:#e6db74">&#39;8f240564-XXX-40b7-9faf-c08167aa27a3&#39;</span><span style="color:#f92672">,</span> url: <span style="color:#e6db74">&#39;git@gitee.com:XXX/XXX.git&#39;</span><span style="color:#f92672">]]])</span>
        
			<span style="color:#75715e">//ä»£ç æ¨é€åˆ°masteræ“ä½œ(å¯ä»¥å°†æ­¤æ­¥éª¤ä¸‹æ”¾åˆ°è¿œç¨‹éƒ¨ç½²åæˆ–è€…posté˜¶æ®µï¼Œç¡®ä¿ä¸€ä¸ªå®Œæ•´çš„æˆåŠŸçš„å‘å¸ƒåæ‰è¿›è¡Œåˆ†æ”¯åˆå¹¶æäº¤)
</span><span style="color:#75715e"></span>			sshagent<span style="color:#f92672">([</span><span style="color:#e6db74">&#39;8f240564-XXX-40b7-9faf-c08167aa27a3&#39;</span><span style="color:#f92672">])</span> <span style="color:#f92672">{</span>
                sh <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">                  git config --global user.email &#34;******&#34;
</span><span style="color:#e6db74">                    git config --global user.name &#34;******&#34;
</span><span style="color:#e6db74">				    git commit -m &#34;header changed ci commit automatically&#34; || true
</span><span style="color:#e6db74">                    git push origin HEAD:refs/heads/master
</span><span style="color:#e6db74">				&#34;&#34;&#34;</span>
			<span style="color:#f92672">}</span>
		<span style="color:#f92672">}</span>
      <span style="color:#f92672">}</span>
		<span style="color:#f92672">...</span>
	<span style="color:#f92672">}</span>
</code></pre></div><h4 id="mavemæ„å»ºé¡¹ç›®">mavemæ„å»ºé¡¹ç›®</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">stage<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;Build&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         steps <span style="color:#f92672">{</span>
          withMaven<span style="color:#f92672">(</span>maven: <span style="color:#e6db74">&#39;Maven3.6.3&#39;</span><span style="color:#f92672">,</span> mavenSettingsConfig: <span style="color:#e6db74">&#39;f6f97751-3c04-4394-876f-cee0879cfc02&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
              <span style="color:#75715e">//è¿™é‡Œä½¿ç”¨äº†maven-resources-pluginæ’ä»¶å¯¹èµ„æºè¿›è¡Œç»Ÿä¸€çš„COPYåˆ°pathç›®å½•
</span><span style="color:#75715e"></span>                 sh <span style="color:#e6db74">&#39;mvn clean package -Dmaven.test.skip=true -Dbuild.path=/var/jenkins_home/build/bfreeman -f pom.xml&#39;</span>
            <span style="color:#f92672">}</span>
         <span style="color:#f92672">}</span>
      <span style="color:#f92672">}</span>
</code></pre></div><h4 id="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</h4>
<p>ç®€å•çš„å•å…ƒæµ‹è¯•å¯ä»¥åŸºäºmaven-shade-pluginæ’ä»¶ï¼Œé…åˆJunitè·‘å•å…ƒæµ‹è¯•ã€‚ä¹Ÿå¯ä»¥ é…åˆjacocoæ’ä»¶å’Œ maven-jacoco-plugin è¿›è¡Œæµ‹è¯•è¦†ç›–ç‡çš„æ£€æµ‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">stage<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;Unit testing&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         steps <span style="color:#f92672">{</span>
             withMaven<span style="color:#f92672">(</span>maven: <span style="color:#e6db74">&#39;Maven3.6.3&#39;</span><span style="color:#f92672">,</span> mavenSettingsConfig: <span style="color:#e6db74">&#39;f6f97751-3c04-4394-876f-cee0879cfc02&#39;</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                 <span style="color:#75715e">//è¿™é‡Œä½¿ç”¨äº†maven-shade-pluginæ’ä»¶è¿›è¡Œå•å…ƒæµ‹è¯•
</span><span style="color:#75715e"></span>                 sh <span style="color:#e6db74">&#39;mvn clean test&#39;</span>
            <span style="color:#f92672">}</span>
         <span style="color:#f92672">}</span>
      <span style="color:#f92672">}</span>
</code></pre></div><h4 id="build-dockeré•œåƒ">build dockeré•œåƒ</h4>
<ul>
<li>ç¼–å†™Dockerfile</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dockerfile" data-lang="dockerfile"><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> openjdk:8u212-jdk</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> /dev/* /build/conf/dev/<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> /production/* /build/conf/production/<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> api-1.0.0-fat.jar /build/api.jar<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENTRYPOINT</span> [<span style="color:#e6db74">&#34;java&#34;</span>, <span style="color:#e6db74">&#34;-jar&#34;</span>,<span style="color:#e6db74">&#34;/build/api.jar&#34;</span>,<span style="color:#e6db74">&#34;--vertx-id=&#39;bfreeman-api&#39;&#34;</span>,<span style="color:#e6db74">&#34;--java-opts=&#39;-Xms512m -Xmx512m -XX:NewSize=256m&#39;&#34;</span>,<span style="color:#e6db74">&#34;-conf /build/conf/production/conf.json&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>å¤§è‡´ä¸ºCOPY jarå’Œé…ç½®æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ï¼ŒENTRYPOINTæŒ‡å®šJVMå‚æ•°å’Œvertxå‚æ•°</p>
<ul>
<li>æ‰§è¡Œdocker buildç›¸å…³Shellè„šæœ¬</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#! /bin/bash
</span><span style="color:#75715e"></span>
cd /var/jenkins_home/build/bfreeman
docker build -t bfreeman/api:1.0.0 .
</code></pre></div><h4 id="push-dockeré•œåƒåˆ°é•œåƒä»“åº“">push dockeré•œåƒåˆ°é•œåƒä»“åº“</h4>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ï¼Œ<a href="https://help.aliyun.com/product/60716.html">å‚è€ƒæ–‡æ¡£</a></p>
<p>ç›¸å…³Shellè„šæœ¬å¦‚ä¸‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#! /bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># 1. è·å–æ„å»ºçš„image id</span>
IMAGES_ID<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>docker images|grep -i bfreeman/api|awk <span style="color:#e6db74">&#39;{print $3}&#39;</span><span style="color:#e6db74">`</span>
<span style="color:#75715e"># 2. è®¾ç½®repositoryç›¸å…³ä¿¡æ¯</span>
REPOSITORY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bfreeman/web&#34;</span>
TAG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0.0&#34;</span>
<span style="color:#75715e"># 3. ç™»å½•Docker Registry ï¼Œä½¿ç”¨docker tagå‘½ä»¤é‡å‘½åé•œåƒå¹¶æ¨é€è‡³ç™»å½•Docker Registry</span>
docker login -u<span style="color:#f92672">=</span>xx -p<span style="color:#f92672">=</span>xx registry.cn-hangzhou.aliyuncs.com
docker tag <span style="color:#e6db74">${</span>IMAGES_ID<span style="color:#e6db74">}</span> registry.cn-hangzhou.aliyuncs.com/<span style="color:#e6db74">${</span>REPOSITORY<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>TAG<span style="color:#e6db74">}</span>
docker push registry.cn-hangzhou.aliyuncs.com/<span style="color:#e6db74">${</span>REPOSITORY<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>TAG<span style="color:#e6db74">}</span>
</code></pre></div><h4 id="è¿œç¨‹éƒ¨ç½²é•œåƒpullé‡æ–°éƒ¨ç½²">è¿œç¨‹éƒ¨ç½²(é•œåƒPullï¼Œé‡æ–°éƒ¨ç½²)</h4>
<ul>
<li>jenkins pipeline sshagentå®ç°è¿œç¨‹æ‰§è¡Œshellè„šæœ¬</li>
</ul>
<p>ç”Ÿæˆsshå¯†é’¥å¯¹ï¼Œå¹¶å°†ç§é’¥é…ç½®åˆ°jenkinsçš„å‡­è¯ä¸­ï¼Œå°†å…¬é’¥é…ç½®åˆ°å¯¹åº”éƒ¨ç½²æœåŠ¡å™¨çš„.ssh/authorized_keysæ–‡ä»¶ä¸­ï¼Œpipelineè„šæœ¬å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">sshagent<span style="color:#f92672">([</span><span style="color:#e6db74">&#39;feb51b70-****-45a5-a69b-319e41f7f146&#39;</span><span style="color:#f92672">])</span> <span style="color:#f92672">{</span>
                    sh <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">                   ...
</span><span style="color:#e6db74">                    &#34;&#34;&#34;</span>
<span style="color:#f92672">}</span>
</code></pre></div><ul>
<li>é•œåƒPull</li>
</ul>
<p>ç›¸å…³Shellè„šæœ¬å¦‚ä¸‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#! /bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># 1. è®¾ç½®repositoryç›¸å…³ä¿¡æ¯</span>
REPOSITORY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bfreeman/web&#34;</span>
TAG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0.0&#34;</span>

<span style="color:#75715e"># 2. ç™»å½•Docker Registry ï¼Œä»Docker Registryä¸­æ‹‰å–é•œåƒ</span>
docker login -u<span style="color:#f92672">=</span>xx -p<span style="color:#f92672">=</span>xx registry.cn-hangzhou.aliyuncs.com
docker pull registry.cn-hangzhou.aliyuncs.com/<span style="color:#e6db74">${</span>REPOSITORY<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>TAG<span style="color:#e6db74">}</span>

</code></pre></div><ul>
<li>é‡æ–°éƒ¨ç½²</li>
</ul>
<p>ç›¸å…³Shellè„šæœ¬å¦‚ä¸‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e">#! /bin/bash
</span><span style="color:#75715e"></span>
<span style="color:#75715e"># 1. è®¾ç½®repositoryç›¸å…³ä¿¡æ¯</span>
REPOSITORY<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;bfreeman/web&#34;</span>
TAG<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1.0.0&#34;</span>

docker stop bfreeman-api
docker container rm bfreeman-api
docker run -u root -d --name bfreeman-api <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-p 10010:10010  <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-p 10030:10030  <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>-v /volume1/docker/java:/data registry.cn-hangzhou.aliyuncs.com/<span style="color:#e6db74">${</span>REPOSITORY<span style="color:#e6db74">}</span>:<span style="color:#e6db74">${</span>TAG<span style="color:#e6db74">}</span>

</code></pre></div><p>æ­¤å¤„å¯ä»¥åŸºäºk8sè¿›è¡Œæ”¹é€ ï¼Œå®ç°jenkinséƒ¨ç½²åˆ°k8sé›†ç¾¤ã€‚</p>
<h4 id="ç›¸å…³pipeline">ç›¸å…³pipeline</h4>
<pre><code>pipeline {
  agent any
  
  environment {
       imageid = &quot;&quot;
  }
   
  parameters {
    gitParameter branchFilter: 'origin/(.*)', defaultValue: 'master', name: 'BRANCH', type: 'PT_BRANCH', sortMode:'DESCENDING'
  }
   
   stages {
      //æ‹‰å–ä»£ç 
      stage('Pull Source Code') {
        steps {
			//checkoutåˆ°master å’Œ merge æŒ‡å®šåˆ†æ”¯æ“ä½œ
			checkout([$class: 'GitSCM', 
			branches: [[name: 'master']], 
			doGenerateSubmoduleConfigurations: false, 
			 extensions: [
                [$class: 'PreBuildMerge', options: [mergeRemote: 'origin', mergeStrategy: 'RECURSIVE', mergeTarget: &quot;${params.BRANCH}&quot;]]
            ],
			submoduleCfg: [], 
			gitTool: 'Default',
			userRemoteConfigs: [[credentialsId: '0baad767-754c-****-8639-be2559a124ac', url: 'git@gitee.com:****/****.git']]]
			)
			}
      }
      
      //ä»£ç é™æ€åˆ†æ
      stage('Static Analysis') {
         steps {
            echo 'Program Static Analysis' 
         }
      }
      
      //æ„å»ºä»£ç 
      stage('Build') {
         steps {
          withMaven(maven: 'Maven3.6.3', mavenSettingsConfig: 'f6f97751-****-4394-876f-cee0879cfc02') {
                 sh 'mvn clean package -Dmaven.test.skip=true -Dbuild.path=/var/jenkins_home/build/bfreeman -f pom.xml'
            }
         }
      }
      
      //å•å…ƒæµ‹è¯•
      stage('Unit testing') {
         steps {
             withMaven(maven: 'Maven3.6.3', mavenSettingsConfig: 'f6f97751-****-4394-876f-cee0879cfc02') {
                 sh 'mvn clean test'
            }
         }
      }
      
      //æ„å»ºDockeré•œåƒ
      stage('Build Docker Image') {
         steps {
            sh &quot;&quot;&quot;
				    cd /var/jenkins_home/script/auto/deploy
				    sh docker_build.sh
				&quot;&quot;&quot;
         }
      }
      
      //æ¨é€Dockeré•œåƒåˆ°è¿œç¨‹ä»“åº“
      stage('Push Remote Repositry') {
         steps {
            sh &quot;&quot;&quot;
				    cd /var/jenkins_home/script/auto/deploy
				    sh docker_push.sh
				&quot;&quot;&quot;
         }
      }
      
      //éƒ¨ç½²ä»£ç 
      stage('Deploy') {
         steps {
            sshagent(['feb51b70-****-45a5-a69b-319e41f7f146']) {
                    sh &quot;&quot;&quot;
                    ssh -p 16022 root@**** &quot;sh /home/bfreeman/script/auto/deploy/docker_pull.sh&quot;
                     ssh -p 16022 root@**** &quot;sh /home/bfreeman/script/auto/deploy/docker_run.sh&quot;
                    &quot;&quot;&quot;
                }
         }
      }
      
      //æ¨é€ä»£ç 
      stage('Push Code') {
         steps {
            //ä»£ç æ¨é€åˆ°masteræ“ä½œ
			sshagent(['0baad767-****-4122-8639-be2559a124ac']) {
                sh &quot;&quot;&quot;
                    git config --global user.email &quot;******&quot;
                    git config --global user.name &quot;******&quot;
				    git commit -m &quot;header changed ci commit automatically&quot; || true
                    git push origin HEAD:refs/heads/master
				&quot;&quot;&quot;
			}
         }
         
      }
      
   }
   
}
</code></pre><h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://jenkins.io/zh/doc/">https://jenkins.io/zh/doc/</a></p>
<p><a href="https://www.jianshu.com/nb/30544461">https://www.jianshu.com/nb/30544461</a></p>
        </p>
    </div>
</div>

<aside class="post-toc">
    <nav id="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#å…³äºcicd">å…³äºCI/CD</a>
          <ul>
            <li><a href="#æŒç»­é›†æˆci">æŒç»­é›†æˆ(CI)</a></li>
            <li><a href="#æŒç»­äº¤ä»˜cd">æŒç»­äº¤ä»˜(CD)</a></li>
            <li><a href="#æŒç»­éƒ¨ç½²cd">æŒç»­éƒ¨ç½²(CD)</a></li>
          </ul>
        </li>
        <li><a href="#jenkinså®‰è£…é…ç½®åŸºäºdocker">jenkinså®‰è£…/é…ç½®(åŸºäºDocker)</a>
          <ul>
            <li><a href="#å®‰è£…">å®‰è£…</a></li>
            <li><a href="#æ’ä»¶æ¨è">æ’ä»¶æ¨è</a></li>
            <li><a href="#é…ç½®">é…ç½®</a></li>
          </ul>
        </li>
        <li><a href="#jenkins-pipeline">Jenkins Pipeline</a>
          <ul>
            <li><a href="#ä»€ä¹ˆæ˜¯pipline">ä»€ä¹ˆæ˜¯Pipline</a></li>
            <li><a href="#pipelineä¼˜åŠ¿">pipelineä¼˜åŠ¿</a></li>
            <li><a href="#pipelineç»„æˆ">pipelineç»„æˆ</a></li>
          </ul>
        </li>
        <li><a href="#jenkins-pipelineå®ç°cicd">Jenkins Pipelineå®ç°CI/CD</a>
          <ul>
            <li><a href="#åŸºæœ¬æµç¨‹">åŸºæœ¬æµç¨‹</a></li>
            <li><a href="#pipelineå®ç°">Pipelineå®ç°</a>
              <ul>
                <li><a href="#jenkinsæ‹‰å–gitä»£ç ">Jenkinsæ‹‰å–Gitä»£ç </a></li>
                <li><a href="#mavemæ„å»ºé¡¹ç›®">mavemæ„å»ºé¡¹ç›®</a></li>
                <li><a href="#å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</a></li>
                <li><a href="#build-dockeré•œåƒ">build dockeré•œåƒ</a></li>
                <li><a href="#push-dockeré•œåƒåˆ°é•œåƒä»“åº“">push dockeré•œåƒåˆ°é•œåƒä»“åº“</a></li>
                <li><a href="#è¿œç¨‹éƒ¨ç½²é•œåƒpullé‡æ–°éƒ¨ç½²">è¿œç¨‹éƒ¨ç½²(é•œåƒPullï¼Œé‡æ–°éƒ¨ç½²)</a></li>
                <li><a href="#ç›¸å…³pipeline">ç›¸å…³pipeline</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </nav>
</aside>



    

        </main><footer class="footer">
    <span>&copy; 2022 hanrong.li</span>
    <span>
        Made with &#10084;&#65039; using <a target="_blank" href="https://github.com/526avijitgupta/gokarna">Gokarna</a>
    </span>
</footer>
</body>
</html>
